// Copyright (c) Microsoft Corporation. All rights reserved.
//
// Licensed under the MIT License. See License.txt in the project root for license information.
// Code generated by Microsoft (R) Rust Code Generator. DO NOT EDIT.

use crate::models::{
    ModelWithArrayOfModel, ModelWithAttributes, ModelWithDictionary, ModelWithEmptyArray,
    ModelWithEncodedNames, ModelWithOptionalField, ModelWithRenamedArrays, ModelWithRenamedFields,
    ModelWithSimpleArrays, ModelWithText, ModelWithUnwrappedArray, SimpleModel,
};
use async_std::task::block_on;
use azure_core::{RequestContent, Response, Result};
use typespec_client_core::xml::to_xml;

impl TryFrom<ModelWithArrayOfModel> for RequestContent<ModelWithArrayOfModel> {
    type Error = azure_core::Error;
    fn try_from(value: ModelWithArrayOfModel) -> Result<Self> {
        RequestContent::try_from(to_xml(&value)?)
    }
}

impl TryFrom<Response<ModelWithArrayOfModel>> for ModelWithArrayOfModel {
    type Error = azure_core::Error;
    fn try_from(value: Response<ModelWithArrayOfModel>) -> Result<Self> {
        let f = || value.into_xml_body();
        let r = block_on(f())?;
        Ok(r)
    }
}

impl TryFrom<ModelWithAttributes> for RequestContent<ModelWithAttributes> {
    type Error = azure_core::Error;
    fn try_from(value: ModelWithAttributes) -> Result<Self> {
        RequestContent::try_from(to_xml(&value)?)
    }
}

impl TryFrom<Response<ModelWithAttributes>> for ModelWithAttributes {
    type Error = azure_core::Error;
    fn try_from(value: Response<ModelWithAttributes>) -> Result<Self> {
        let f = || value.into_xml_body();
        let r = block_on(f())?;
        Ok(r)
    }
}

impl TryFrom<ModelWithDictionary> for RequestContent<ModelWithDictionary> {
    type Error = azure_core::Error;
    fn try_from(value: ModelWithDictionary) -> Result<Self> {
        RequestContent::try_from(to_xml(&value)?)
    }
}

impl TryFrom<Response<ModelWithDictionary>> for ModelWithDictionary {
    type Error = azure_core::Error;
    fn try_from(value: Response<ModelWithDictionary>) -> Result<Self> {
        let f = || value.into_xml_body();
        let r = block_on(f())?;
        Ok(r)
    }
}

impl TryFrom<ModelWithEmptyArray> for RequestContent<ModelWithEmptyArray> {
    type Error = azure_core::Error;
    fn try_from(value: ModelWithEmptyArray) -> Result<Self> {
        RequestContent::try_from(to_xml(&value)?)
    }
}

impl TryFrom<Response<ModelWithEmptyArray>> for ModelWithEmptyArray {
    type Error = azure_core::Error;
    fn try_from(value: Response<ModelWithEmptyArray>) -> Result<Self> {
        let f = || value.into_xml_body();
        let r = block_on(f())?;
        Ok(r)
    }
}

impl TryFrom<ModelWithEncodedNames> for RequestContent<ModelWithEncodedNames> {
    type Error = azure_core::Error;
    fn try_from(value: ModelWithEncodedNames) -> Result<Self> {
        RequestContent::try_from(to_xml(&value)?)
    }
}

impl TryFrom<Response<ModelWithEncodedNames>> for ModelWithEncodedNames {
    type Error = azure_core::Error;
    fn try_from(value: Response<ModelWithEncodedNames>) -> Result<Self> {
        let f = || value.into_xml_body();
        let r = block_on(f())?;
        Ok(r)
    }
}

impl TryFrom<ModelWithOptionalField> for RequestContent<ModelWithOptionalField> {
    type Error = azure_core::Error;
    fn try_from(value: ModelWithOptionalField) -> Result<Self> {
        RequestContent::try_from(to_xml(&value)?)
    }
}

impl TryFrom<Response<ModelWithOptionalField>> for ModelWithOptionalField {
    type Error = azure_core::Error;
    fn try_from(value: Response<ModelWithOptionalField>) -> Result<Self> {
        let f = || value.into_xml_body();
        let r = block_on(f())?;
        Ok(r)
    }
}

impl TryFrom<ModelWithRenamedArrays> for RequestContent<ModelWithRenamedArrays> {
    type Error = azure_core::Error;
    fn try_from(value: ModelWithRenamedArrays) -> Result<Self> {
        RequestContent::try_from(to_xml(&value)?)
    }
}

impl TryFrom<Response<ModelWithRenamedArrays>> for ModelWithRenamedArrays {
    type Error = azure_core::Error;
    fn try_from(value: Response<ModelWithRenamedArrays>) -> Result<Self> {
        let f = || value.into_xml_body();
        let r = block_on(f())?;
        Ok(r)
    }
}

impl TryFrom<ModelWithRenamedFields> for RequestContent<ModelWithRenamedFields> {
    type Error = azure_core::Error;
    fn try_from(value: ModelWithRenamedFields) -> Result<Self> {
        RequestContent::try_from(to_xml(&value)?)
    }
}

impl TryFrom<Response<ModelWithRenamedFields>> for ModelWithRenamedFields {
    type Error = azure_core::Error;
    fn try_from(value: Response<ModelWithRenamedFields>) -> Result<Self> {
        let f = || value.into_xml_body();
        let r = block_on(f())?;
        Ok(r)
    }
}

impl TryFrom<ModelWithSimpleArrays> for RequestContent<ModelWithSimpleArrays> {
    type Error = azure_core::Error;
    fn try_from(value: ModelWithSimpleArrays) -> Result<Self> {
        RequestContent::try_from(to_xml(&value)?)
    }
}

impl TryFrom<Response<ModelWithSimpleArrays>> for ModelWithSimpleArrays {
    type Error = azure_core::Error;
    fn try_from(value: Response<ModelWithSimpleArrays>) -> Result<Self> {
        let f = || value.into_xml_body();
        let r = block_on(f())?;
        Ok(r)
    }
}

impl TryFrom<ModelWithText> for RequestContent<ModelWithText> {
    type Error = azure_core::Error;
    fn try_from(value: ModelWithText) -> Result<Self> {
        RequestContent::try_from(to_xml(&value)?)
    }
}

impl TryFrom<Response<ModelWithText>> for ModelWithText {
    type Error = azure_core::Error;
    fn try_from(value: Response<ModelWithText>) -> Result<Self> {
        let f = || value.into_xml_body();
        let r = block_on(f())?;
        Ok(r)
    }
}

impl TryFrom<ModelWithUnwrappedArray> for RequestContent<ModelWithUnwrappedArray> {
    type Error = azure_core::Error;
    fn try_from(value: ModelWithUnwrappedArray) -> Result<Self> {
        RequestContent::try_from(to_xml(&value)?)
    }
}

impl TryFrom<Response<ModelWithUnwrappedArray>> for ModelWithUnwrappedArray {
    type Error = azure_core::Error;
    fn try_from(value: Response<ModelWithUnwrappedArray>) -> Result<Self> {
        let f = || value.into_xml_body();
        let r = block_on(f())?;
        Ok(r)
    }
}

impl TryFrom<SimpleModel> for RequestContent<SimpleModel> {
    type Error = azure_core::Error;
    fn try_from(value: SimpleModel) -> Result<Self> {
        RequestContent::try_from(to_xml(&value)?)
    }
}

impl TryFrom<Response<SimpleModel>> for SimpleModel {
    type Error = azure_core::Error;
    fn try_from(value: Response<SimpleModel>) -> Result<Self> {
        let f = || value.into_xml_body();
        let r = block_on(f())?;
        Ok(r)
    }
}
