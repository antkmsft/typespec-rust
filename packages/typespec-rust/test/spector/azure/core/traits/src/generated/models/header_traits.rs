// Copyright (c) Microsoft Corporation. All rights reserved.
//
// Licensed under the MIT License. See License.txt in the project root for license information.
// Code generated by Microsoft (R) Rust Code Generator. DO NOT EDIT.

use super::{RepeatabilityResult, User, UserActionResponse};
use azure_core::{
    http::{
        headers::{HeaderName, Headers},
        Response,
    },
    Result,
};

const BAR: HeaderName = HeaderName::from_static("bar");
const CLIENT_REQUEST_ID: HeaderName = HeaderName::from_static("x-ms-client-request-id");
const ETAG: HeaderName = HeaderName::from_static("etag");
const REPEATABILITY_RESULT: HeaderName = HeaderName::from_static("repeatability-result");

/// Provides access to typed response headers for [`TraitsClient::repeatable_action()`](crate::generated::clients::TraitsClient::repeatable_action())
///
/// # Examples
///
/// ```no_run
/// use azure_core::{Result, http::Response};
/// use spector_coretraits::models::{UserActionResponse, UserActionResponseHeaders};
/// async fn example() -> Result<()> {
///     let response: Response<UserActionResponse> = unimplemented!();
///     // Access response headers
///     if let Some(repeatability_result) = response.repeatability_result()? {
///         println!("repeatability-result: {:?}", repeatability_result);
///     }
///     Ok(())
/// }
/// ```
pub trait UserActionResponseHeaders: private::Sealed {
    fn repeatability_result(&self) -> Result<Option<RepeatabilityResult>>;
}

impl UserActionResponseHeaders for Response<UserActionResponse> {
    /// Indicates whether the repeatable request was accepted or rejected.
    fn repeatability_result(&self) -> Result<Option<RepeatabilityResult>> {
        Headers::get_optional_as(self.headers(), &REPEATABILITY_RESULT)
    }
}

/// Provides access to typed response headers for [`TraitsClient::smoke_test()`](crate::generated::clients::TraitsClient::smoke_test())
///
/// # Examples
///
/// ```no_run
/// use azure_core::{Result, http::Response};
/// use spector_coretraits::models::{User, UserHeaders};
/// async fn example() -> Result<()> {
///     let response: Response<User> = unimplemented!();
///     // Access response headers
///     if let Some(bar) = response.bar()? {
///         println!("bar: {:?}", bar);
///     }
///     if let Some(etag_header) = response.etag_header()? {
///         println!("etag: {:?}", etag_header);
///     }
///     if let Some(client_request_id) = response.client_request_id()? {
///         println!("x-ms-client-request-id: {:?}", client_request_id);
///     }
///     Ok(())
/// }
/// ```
pub trait UserHeaders: private::Sealed {
    fn bar(&self) -> Result<Option<String>>;
    fn etag_header(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
}

impl UserHeaders for Response<User> {
    fn bar(&self) -> Result<Option<String>> {
        Headers::get_optional_as(self.headers(), &BAR)
    }

    /// The entity tag for the response.
    fn etag_header(&self) -> Result<Option<String>> {
        Headers::get_optional_as(self.headers(), &ETAG)
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Headers::get_optional_as(self.headers(), &CLIENT_REQUEST_ID)
    }
}

mod private {
    use super::{User, UserActionResponse};
    use azure_core::http::Response;

    pub trait Sealed {}

    impl Sealed for Response<User> {}
    impl Sealed for Response<UserActionResponse> {}
}
