// Copyright (c) Microsoft Corporation. All rights reserved.
//
// Licensed under the MIT License. See License.txt in the project root for license information.
// Code generated by Microsoft (R) Rust Code Generator. DO NOT EDIT.

use crate::models::{ClientExtensibleEnum, ExtensibleEnum};
use azure_core::{http::RequestContent, json::to_json, Result};
use std::{
    convert::{AsRef, From, Infallible},
    fmt::{Display, Formatter},
    str::FromStr,
};

impl<'a> From<&'a ClientExtensibleEnum> for &'a str {
    fn from(e: &'a ClientExtensibleEnum) -> Self {
        match e {
            ClientExtensibleEnum::EnumValue1 => "value1",
            ClientExtensibleEnum::UnknownValue(s) => s.as_ref(),
        }
    }
}

impl FromStr for ClientExtensibleEnum {
    type Err = Infallible;
    fn from_str(s: &str) -> ::core::result::Result<Self, <Self as FromStr>::Err> {
        Ok(match s {
            "value1" => ClientExtensibleEnum::EnumValue1,
            _ => ClientExtensibleEnum::UnknownValue(s.to_string()),
        })
    }
}

impl AsRef<str> for ClientExtensibleEnum {
    fn as_ref(&self) -> &str {
        match self {
            ClientExtensibleEnum::EnumValue1 => "value1",
            ClientExtensibleEnum::UnknownValue(s) => s.as_str(),
        }
    }
}

impl Display for ClientExtensibleEnum {
    fn fmt(&self, f: &mut Formatter<'_>) -> ::std::fmt::Result {
        match self {
            ClientExtensibleEnum::EnumValue1 => f.write_str("value1"),
            ClientExtensibleEnum::UnknownValue(s) => f.write_str(s.as_str()),
        }
    }
}

impl<'a> From<&'a ExtensibleEnum> for &'a str {
    fn from(e: &'a ExtensibleEnum) -> Self {
        match e {
            ExtensibleEnum::ClientEnumValue1 => "value1",
            ExtensibleEnum::ClientEnumValue2 => "value2",
            ExtensibleEnum::UnknownValue(s) => s.as_ref(),
        }
    }
}

impl FromStr for ExtensibleEnum {
    type Err = Infallible;
    fn from_str(s: &str) -> ::core::result::Result<Self, <Self as FromStr>::Err> {
        Ok(match s {
            "value1" => ExtensibleEnum::ClientEnumValue1,
            "value2" => ExtensibleEnum::ClientEnumValue2,
            _ => ExtensibleEnum::UnknownValue(s.to_string()),
        })
    }
}

impl AsRef<str> for ExtensibleEnum {
    fn as_ref(&self) -> &str {
        match self {
            ExtensibleEnum::ClientEnumValue1 => "value1",
            ExtensibleEnum::ClientEnumValue2 => "value2",
            ExtensibleEnum::UnknownValue(s) => s.as_str(),
        }
    }
}

impl Display for ExtensibleEnum {
    fn fmt(&self, f: &mut Formatter<'_>) -> ::std::fmt::Result {
        match self {
            ExtensibleEnum::ClientEnumValue1 => f.write_str("value1"),
            ExtensibleEnum::ClientEnumValue2 => f.write_str("value2"),
            ExtensibleEnum::UnknownValue(s) => f.write_str(s.as_str()),
        }
    }
}

impl TryFrom<ClientExtensibleEnum> for RequestContent<ClientExtensibleEnum> {
    type Error = azure_core::Error;
    fn try_from(value: ClientExtensibleEnum) -> Result<Self> {
        Ok(to_json(&value)?.into())
    }
}

impl TryFrom<ExtensibleEnum> for RequestContent<ExtensibleEnum> {
    type Error = azure_core::Error;
    fn try_from(value: ExtensibleEnum) -> Result<Self> {
        Ok(to_json(&value)?.into())
    }
}
